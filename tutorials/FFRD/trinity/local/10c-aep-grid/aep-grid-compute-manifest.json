{
    "manifest_name":     "trinity-aep-grid",
    "plugin_definition": "CC-AGGREGATOR-PLUGIN",
    "resource_requirements":[
        {
            "resource_type":  "VCPU",
            "value": "8"
        },
        {
            "resource_type":  "MEMORY",
            "value": "28000"
        }
    ],
    "stores": [
        {
            "name":      "FFRD",
            "store_type": "S3",
            "profile": "FFRD",
            "params": {
                "root": "/model-library/ffrd-trinity"
            }
        }
    ],
    "inputs": {
		"payload_attributes": {		
			"scenario": "production",
            "gridType": "depth"
		}
    },
    "actions":[
        {
            "name":        "ep-grids",
            "type":        "ep-grids",
            "description": "epgrids",
            "attributes": {
                "gridNumber":0,
                "blockStart": 1,
                "blockEnd":2000,
                "gdalVsisPrefix": "/vsis3/ffrd-computable/model-library/ffrd-trinity",
                "baseValueGrid":"{ATTR::scenario}/simulations/summary-data/base-grids/{ENV::MODEL_PREFIX}/base-{ATTR::gridType}.tif",
                "gridPathTemplate":   "{ATTR::scenario}/simulations/summary-data/max-grids/{ENV::MODEL_PREFIX}/max_realz_{ENV::CC_EVENT_IDENTIFIER}_block_{VAR::block}_{ATTR::gridType}.tif",
                "processingConcurrency": 5,
                "probOutTemplate":    "{ATTR::scenario}/simulations/summary-data/aep-grids/{ENV::MODEL_PREFIX}/aep_{ATTR::gridType}_realz_{ENV::CC_EVENT_IDENTIFIER}.tif",
                "debugOutTemplate": "{ATTR::scenario}/simulations/summary-data/aep-grids/qc/{ENV::MODEL_PREFIX}/aep_{ATTR::gridType}_realz_{ENV::CC_EVENT_IDENTIFIER}_debug_{VAR::debugCellX}_{VAR::debugCellY}.csv",
                "thresholds": [0.00001]
            }
        }
    ]  
}
